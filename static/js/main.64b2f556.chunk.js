(this["webpackJsonpin5320-assignment2"]=this["webpackJsonpin5320-assignment2"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(4),s=n.n(r),i=(n(9),n(2)),j=(n(10),n(0));var u=function(e){if(console.log(e.apiData),e.apiData.results){var t=e.apiData.results,n=t[0]&&Object.keys(t[0]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("table",{id:"countries",cellPadding:0,cellSpacing:0,children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:t[0]&&n.map((function(e){return Object(j.jsx)("th",{children:e})}))})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsx)("tr",{children:n.map((function(t){return Object(j.jsx)("td",{children:e[t]})}))})}))})]})})}return Object(j.jsx)("p",{children:"Loading..."})};var o=function(e){var t=e.setSearchQuery,n=e.setPageNumber,a=Object(c.useState)(""),r=Object(i.a)(a,2),s=r[0],u=r[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{value:s,onChange:function(e){u(e.target.value)}}),Object(j.jsx)("button",{onClick:function(e){t(s),n(1)},className:"button",children:"Search"})]})};var b=function(e){var t=e.setPageSize;return Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"Results per page"}),Object(j.jsxs)("select",{name:"results",id:"results",onChange:function(e){t(e.target.value)},children:[Object(j.jsx)("option",{value:"5",children:"5"}),Object(j.jsx)("option",{value:"10",children:"10"}),Object(j.jsx)("option",{value:"20",children:"20"})]})]})};var l=function(e){var t=e.setPageNumber,n=e.apiData;if(n.pager){var c=n.pager.page,a=n.pager.pageCount;return Object(j.jsxs)("div",{children:[c>1?Object(j.jsx)("button",{onClick:function(){return function(e){t(parseInt(e)-1)}(c)},className:"button",children:"Previous"}):Object(j.jsx)(j.Fragment,{}),Object(j.jsxs)("span",{children:["Page ",c," of ",a]}),c<a?Object(j.jsx)("button",{onClick:function(){return function(e){t(parseInt(e)+1)}(c)},className:"button",children:"Next"}):Object(j.jsx)(j.Fragment,{})]})}return Object(j.jsx)("div",{})};var O=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),s=Object(i.a)(r,2),O=s[0],d=s[1],h=Object(c.useState)(1),p=Object(i.a)(h,2),x=p[0],g=p[1],f=Object(c.useState)(10),v=Object(i.a)(f,2),m=v[0],S=v[1];return Object(c.useEffect)((function(){var e="https://dhis2-app-course.ifi.uio.no/api?";O&&(e=e+"&search="+O),e=(e=e+"&page="+x)+"&pageSize="+m,console.log("Querying: "+e),fetch(e).then((function(e){return e.json()})).then((function(e){a(e)}))}),[O,x,m]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Country Lookup"}),Object(j.jsx)(o,{setSearchQuery:d,setPageNumber:g}),Object(j.jsx)(u,{apiData:n}),Object(j.jsx)(l,{setPageNumber:g,apiData:n}),Object(j.jsx)(b,{setPageSize:S})]})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.64b2f556.chunk.js.map